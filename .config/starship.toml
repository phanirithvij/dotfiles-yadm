"$schema" = 'https://starship.rs/config-schema.json'

# The current theme is omf fish theme

# Move the directory after prompt character 
# format = """\
# $character\
# $directory\
# $cmd_duration\
# $git_branch\
# $git_commit\
# $git_state\
# $git_metrics\
# $git_status\
# """
#format = "$character${custom.tmux}$directory$all"
format = "${custom.tmux}$directory$all$character"
#format = "${custom.tmux}$character"

# move the rest of the prompt to the right
right_format = "$time $battery"

add_newline = false

[line_break]
disabled = true

# symbols
# https://www.w3.org/TR/xml-entity-names/025.html
# â–¸ â€º Â» â–º â–¶ ïƒš ï” â¯ ï™ â‹Š
# â—‚ â® â‹‰
# â•€
# https://www.w3.org/TR/xml-entity-names/026.html
# âš¬ âš« âš¯  â›® â›» âš‰ âš‡ âš¹ â˜ âš· â› âš› 
# Î» ğŸŒ€ âŒ˜ ïŒ®

[character]
#disabled = true
#success_symbol = "[â‹Š>](bold cyan)"
#success_symbol = "[Î»](cyan)"
success_symbol = "[âš‰](cyan)"
#success_symbol = "ïƒš[ï”ï™](cyan)"
error_symbol = "[âš‡](red)"
#error_symbol = "ïƒš[ï™ï”](red)"
#error_symbol = "[<â‹‰](bold red)"

[directory]
style="green"
#style="italic green"

[time]
disabled = false
style="#696969"
format = '[$time]($style) '
time_format = "%T"

[nix_shell]
disabled = false
#symbol = 'â„ï¸'
symbol = 'âš¹'
impure_msg = ''
pure_msg = '[pure](bold green)'
format = '[$symbol $state(\($name\))](bold blue) '

# https://sourcegraph.com/github.com/ono7/dotfiles2/-/blob/starship.toml?L51:3&subtree=true
[custom.tmux]
# command = "[[ $(tmux display-message -p '#{window_zoomed_flag}') -eq 1 ]] && echo 'tmux' || echo"
# format = '[${output}]($style) '
# when = true
#when = "[[ $(tmux display-message -p '#{window_zoomed_flag}') -eq 1 ]]"
when = "[[ -n $TMUX ]] && [[ $(redis-cli get tmux_zoomed) -eq 1 ]]"
format = '[tx]($style) '
shell = "sh"
